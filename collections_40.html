<html dir="ltr"> <head>
<title>Scala 2.8 コレクション API -- 性能特性</title>

<style type="text/css">.maketitle {
  /* align: center; */
}
div.abstract {
  margin-left: 20%;
  margin-right: 10%;
}
h3.abstract {
  /* align: center; */
}
div.verse, div.quote, div.quotation {
  margin-left: 10%;
  margin-right: 10%;
}
td, th
{
  border-top: 1px solid gray;
  border-left: 1px solid gray;
}
table
{
  border-right: 1px solid gray;
  border-bottom: 1px solid gray;
}
.perf {
  color: maroon;
}
.op {
  color: navy;
}
</style>


</head> <body dir="ltr"> 
<table width="100%" cellpadding="0" cellspacing="2">
<tr> <td bgcolor="#99ccff"><a href="collections_41.html"><img border="0" alt="等価性" src="next.png"></a></td><td bgcolor="#99ccff"><a href="collections_0.html"><img border="0" alt="トップ" src="up.png"></a></td><td bgcolor="#99ccff"><a href="collections_39.html"><img border="0" alt="文字列" src="previous.png"></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>性能特性</b></td><td bgcolor="#99ccff" align="center"><a href="collections_49.html">目次</a></td></tr></table> 
<h1>性能特性</h1> 
<p>これまでの説明で異なるコレクションが異なる性能特性を持つことが分かった．性能特性はコレクション型を比較する第一の基準としてよく使われる．以下の<a href="collections_40.html#id1">二つ</a>の<a href="collections_40.html#id2">表</a>にコレクションの主な演算の性能特性をまとめた．

<table border="0" cellspacing="0"><tbody>
<tr><td align="left"> </td><td align="left"><span class="op"> head </span></td><td align="left"><span class="op"> tail </span></td><td align="left"><span class="op"> apply </span></td><td align="left"><span class="op"> 更新 </span></td><td align="left"><span class="op">先頭に追加</span></td><td align="left"><span class="op">最後に追加</span></td><td align="left"><span class="op">挿入</span></td></tr> 
<tr><td colspan="8" align="left">不変</td></tr> 
<tr><td align="left">     <tt>List</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf"> - </span></td></tr> 
<tr><td align="left">     <tt>Stream</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf"> - </span></td></tr> 
<tr><td align="left">     <tt>Vector</tt> </td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf"> - </span></td></tr> 
<tr><td align="left">     <tt>Stack</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf"> - </span></td></tr> 
<tr><td align="left">     <tt>Queue</tt> </td><td align="left"><span class="perf">ならし定数</span></td><td align="left"><span class="perf">ならし定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf"> - </span></td></tr> 
<tr><td align="left">     <tt>Range</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf"> - </span></td><td align="left"><span class="perf"> - </span></td><td align="left"><span class="perf"> - </span></td><td align="left"><span class="perf"> - </span></td></tr> 
<tr><td align="left">     <tt>String</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf"> - </span></td></tr> 
<tr><td colspan="8" align="left">可変</td></tr> 
<tr><td align="left">     <tt>ArrayBuffer</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">ならし定数</span></td><td align="left"><span class="perf">線形</span></td></tr> 
<tr><td align="left">     <tt>ListBuffer</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td></tr> 
<tr><td align="left">     <tt>StringBuilder</tt></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">ならし定数</span></td><td align="left"><span class="perf">線形</span></td></tr> 
<tr><td align="left">     <tt>MutableList</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td></tr> 
<tr><td align="left">     <tt>Queue</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td></tr> 
<tr><td align="left">     <tt>ArraySeq</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf"> - </span></td><td align="left"><span class="perf"> - </span></td><td align="left"><span class="perf"> - </span></td></tr> 
<tr><td align="left">     <tt>Stack</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td></tr> 
<tr><td align="left">     <tt>ArrayStack</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">ならし定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td></tr> 
<tr><td align="left">     <tt>Array</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf"> - </span></td><td align="left"><span class="perf"> - </span></td><td align="left"><span class="perf"> - </span></td></tr></tbody>
</table> 
<div align="center">列型の性能特性
</div> <a name="id1"> </a> 
<table border="0" cellspacing="0"><tbody>
<tr><td align="left"> </td><td align="left"><span class="op"> 検索 </span></td><td align="left"><span class="op">追加</span></td><td align="left"><span class="op">削除</span></td><td align="left"><span class="op">最小</span></td></tr> 
<tr><td align="left" colspan="5">不変</td></tr> 
<tr><td align="left">     <tt>HashSet/HashMap</tt> </td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">線形</span></td></tr> 
<tr><td align="left">     <tt>TreeSet/TreeMap</tt> </td><td align="left"><span class="perf">Log</span></td><td align="left"><span class="perf">Log</span></td><td align="left"><span class="perf">Log</span></td><td align="left"><span class="perf">Log</span></td></tr> 
<tr><td align="left">     <tt>BitSet</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">実質定数<sup><a href="collections_50.html#id3">3</a></sup> </span></td></tr> 
<tr><td align="left">     <tt>ListMap</tt> </td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td><td align="left"><span class="perf">線形</span></td></tr> 
<tr><td align="left" colspan="5"> 可変 </td></tr> 
<tr><td align="left">     <tt>HashSet/HashMap</tt> </td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">線形</span></td></tr> 
<tr><td align="left">     <tt>WeakHashMap</tt> </td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">実質定数</span></td><td align="left"><span class="perf">線形</span></td></tr> 
<tr><td align="left">     <tt>BitSet</tt> </td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">ならし定数</span></td><td align="left"><span class="perf">定数</span></td><td align="left"><span class="perf">実質定数<sup><a href="collections_50.html#id4">4</a></sup> </span></td></tr> 
</tbody></table> <div align="center">集合型とマップ型の性能特性</div> <a name="id2"> </a> <p><p>表の値を以下に説明する:
<div class="quote"><p>
<table border="0" cellspacing="0">
<tbody>
<tr><td align="left" width="140"> <span class="perf">定数</span></td><td align="left">演算は (高速な) 定数時間で完了する．</td></tr> 
<tr><td align="left"> <span class="perf">実質定数</span></td><td align="left">演算は実質定数時間で完了するが，ベクトルの最大長やハッシュキーの分布など何らかの前提に依存する．</td></tr> 
<tr><td align="left"> <span class="perf">ならし定数</span></td><td align="left">演算は「ならし定数時間」で完了する．演算の呼び出しの中には定数時間よりも長くかかるものもあるが，多くの演算の実行時間の平均を取った場合定数時間となる．</td></tr> 
<tr><td align="left"> <span class="perf">Log</span></td><td align="left">演算はコレクションのサイズの対数に比例した時間で完了する．</td></tr> 
<tr><td align="left"> <span class="perf">線形</span></td><td align="left">演算は線形時間，つまりコレクションのサイズに比例した時間で完了する．</td></tr> 
<tr><td align="left"> <span class="perf"> - </span></td><td align="left">演算はサポートされていない．</td></tr> 
</tbody></table> </p></div>
 
<p><a href="collections_40.html#id1">最初の表</a>は，不変と可変両方の列型の以下の演算の性能特性をまとめる:<div class="quote"><p>
<table border="0" cellspacing="0"><tbody>
<tr><td align="left" width="140"> <span class="op"> head </span></td><td align="left">列の最初の要素を選択する．</td></tr> 
<tr><td align="left"> <span class="op"> tail </span></td><td align="left">最初の要素以外の全ての要素から成る新たな列を生成する．</td></tr> 
<tr><td align="left"> <span class="op"> apply </span></td><td align="left">添字によるアクセス．</td></tr> 
<tr><td align="left"> <span class="op"> 更新</span></td><td align="left">不変列のときは (<tt>updated</tt> による) 関数型の更新，可変列のときは  (<tt>update</tt> による)
副作用としての上書き更新．</td></tr> 
<tr><td align="left"> <span class="op">先頭に追加</span></td><td align="left">列の先頭への要素の追加．不変列のときは新たな列を生成する．可変列のときは現在の列を上書きする．</td></tr> 
<tr><td align="left"> <span class="op">最後に追加</span></td><td align="left">列の最後に要素を追加する．不変列のときは新たな列を生成する．可変列のときは現在の列を上書きする．</td></tr> 
<tr><td align="left"> <span class="op">挿入</span></td><td align="left">要素を列の任意の位置に挿入する．この演算は可変列にのみサポートされている．</td></tr>
</tbody></table> </p></div> 
<p><a href="collections_40.html#id2">次の表</a>は，不変と可変両方の集合とマップの以下の演算の性能特性をまとめる:
<div class="quote"><p>
<table border="0" cellspacing="0"><tbody>
<tr><td align="left" width="140"> <span class="op"> 検索 </span></td><td align="left">要素が集合に含まれるかを調べるか，マップからキーに関連付けられた値を選択する．</td></tr> 
<tr><td align="left"> <span class="op">追加</span></td><td align="left">集合に新たな要素を追加するか，マップにキー/値ペアを追加する．</td></tr> 
<tr><td align="left"> <span class="op">削除</span></td><td align="left">集合から要素を削除するか，マップからキーを削除する．</td></tr> 
<tr><td align="left"> <span class="op">最小</span></td><td align="left">集合の最小要素かマップの最小キー．</td></tr></tbody></table> </p></div> 
<p>次へ: <a href="collections_41.html">等価性</a> 
<hr> 
<table width="100%" cellpadding="0" cellspacing="2">
<tr> <td bgcolor="#99ccff"><a href="collections_41.html"><img border="0" alt="等価性" src="next.png"></a></td><td bgcolor="#99ccff"><a href="collections_0.html"><img border="0" alt="トップ" src="up.png"></a></td><td bgcolor="#99ccff"><a href="collections_39.html"><img border="0" alt="文字列" src="previous.png"></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>性能特性</b></td><td bgcolor="#99ccff" align="center"><a href="collections_49.html">目次</a></td></tr></table>
</body>
</html>
